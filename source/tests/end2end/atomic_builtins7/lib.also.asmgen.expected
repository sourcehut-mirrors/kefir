.att_syntax
.section .note.GNU-stack,"",%progbits

.global clear
.global test_atomic_signal_fence
.global test_atomic_thread_fence
.global test_and_set
.global test_is_lock_free
.extern __kefir_atomic_seq_cst_test_and_set
.extern __atomic_is_lock_free
.extern __kefir_atomic_seq_cst_clear
.extern __kefir_atomic_seq_cst_fence
.extern __kefir_opt_float32_neg
.extern __kefir_opt_float64_neg
.extern __kefirrt_opt_float32_to_uint
.extern __kefirrt_opt_float64_to_uint

.section .text
clear:
    push %rbp
    mov %rsp, %rbp
_kefir_func_clear_label0:
_kefir_func_clear_label1:
    call __kefir_atomic_seq_cst_clear@PLT
    pop %rbp
    ret

test_atomic_signal_fence:
    push %rbp
    mov %rsp, %rbp
_kefir_func_test_atomic_signal_fence_label0:
_kefir_func_test_atomic_signal_fence_label1:
    call __kefir_atomic_seq_cst_fence@PLT
    pop %rbp
    ret

test_atomic_thread_fence:
    push %rbp
    mov %rsp, %rbp
_kefir_func_test_atomic_thread_fence_label0:
_kefir_func_test_atomic_thread_fence_label1:
    call __kefir_atomic_seq_cst_fence@PLT
    pop %rbp
    ret

test_and_set:
    push %rbp
    mov %rsp, %rbp
_kefir_func_test_and_set_label0:
_kefir_func_test_and_set_label1:
    call __kefir_atomic_seq_cst_test_and_set@PLT
    and $1, %rax
    pop %rbp
    ret

test_is_lock_free:
    push %rbp
    mov %rsp, %rbp
    sub $16, %rsp
_kefir_func_test_is_lock_free_label0:
_kefir_func_test_is_lock_free_label1:
    mov $1, %rax
    xor %rcx, %rcx
    mov %rax, %rdi
    mov %rcx, %rsi
    call __atomic_is_lock_free@PLT
    and $1, %rax
    movsx %eax, %rax
    xor %rcx, %rcx
    cmp $2, %eax
    sete %cl
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label20
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label3
_kefir_func_test_is_lock_free_label20:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label2:
    mov $1, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label3:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label21
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label5
_kefir_func_test_is_lock_free_label21:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label4:
    mov $2, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label5:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label22
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label7
_kefir_func_test_is_lock_free_label22:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label6:
    mov $4, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label7:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label23
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label9
_kefir_func_test_is_lock_free_label23:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label8:
    mov $4, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label9:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label24
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label11
_kefir_func_test_is_lock_free_label24:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label10:
    mov $2, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label11:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label25
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label13
_kefir_func_test_is_lock_free_label25:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label12:
    mov $4, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label13:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label26
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label15
_kefir_func_test_is_lock_free_label26:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label14:
    mov $8, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label15:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label27
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label17
_kefir_func_test_is_lock_free_label27:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label16:
    mov $8, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label17:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    xor %rcx, %rcx
    test %rax, %rax
    sete %cl
    test %rcx, %rcx
    jz _kefir_func_test_is_lock_free_label28
    mov %rax, %rcx
    jmp _kefir_func_test_is_lock_free_label19
_kefir_func_test_is_lock_free_label28:
    mov %rax, %rcx
_kefir_func_test_is_lock_free_label18:
    mov $8, %rax
    xor %rdx, %rdx
    movq %rcx, -16(%rbp)
    mov %rax, %rdi
    mov %rdx, %rsi
    call __atomic_is_lock_free@PLT
    movq -16(%rbp), %rcx
    and $1, %rax
    movsx %eax, %rax
    xor %rdx, %rdx
    cmp $2, %eax
    sete %dl
    test %rdx, %rdx
    setne %al
    movzx %al, %rax
    test %rcx, %rcx
    setne %dl
    test %rax, %rax
    setne %al
    and %dl, %al
    movzx %al, %rdx
    mov %rdx, %rcx
_kefir_func_test_is_lock_free_label19:
    test %rcx, %rcx
    setne %al
    movzx %al, %rax
    lea (%rbp), %rsp
    pop %rbp
    ret


